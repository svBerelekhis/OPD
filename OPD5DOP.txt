ORG      	0x580
PROM: 	WORD 	0x0
TEN:	WORD	0xA
FIV:      	WORD	0x5
CT:	WORD	0x00
CF:	WORD	0x00
CO:	WORD 	0x00
START:   	CLA
S1:	IN 	0x7
	AND	#0x40
	BEQ	S1
	IN	0x6
	ST	PROM
S2:	LD	PROM
	SUB	TEN
	BEQ	PERO
	BMI	S3
PERO:	ST 	PROM
	LD	CT
	INC	
	ST	CT
	BR 	S2
S3:	LD	PROM
	SUB	FIV
	BEQ	PERT
	BMI	S4
PERT:	ST	PROM
	LD	CF
	INC	
	ST	CF
	BR 	S3
S4:	LD	PROM
	ST	CO
S5:	IN 	0xD
	AND	#0x40
	BEQ	S5
	LD	CO
	SUB	#0x04
	BEQ	ISKL
	LD	CT
	BNE	VIVT
S6:	LD	CF
	BNE	VIVF	
S7:	LD	CO
	BNE	VIVO	
FIN:	HLT
VIVT:	LD	 #0x58
	OUT	 0xC
	LOOP	CT	
	BR	VIVT
	BR	S6
VIVF:	LD	#0x56
	OUT	0xC
	LOOP	CF	
	BR	VIVF
	BR	S7
VIVO:	LD	#0x49
	OUT	0xC
	LOOP	CO	
	BR	VIVO
	BR	FIN
ISKL:	LD	CF
	OUT	0x2
	BNE	ISKL2
	LD	CT
	BNE	VIVT1
S12:	LD	#0x49
	OUT	0xC
	LD	#0x56
	OUT	0xC
	BR	FIN
ISKL2:	LD	CT
	BNE	VIVT2
S21:	LD	#0x49
	OUT 	0xC
	LD	#0x58
	OUT	0xC	
	BR	FIN
VIVT1:	LD	 #0x58
	OUT	 0xC
	LOOP	CT	
	BR	VIVT1
	BR	S12
VIVT2:	LD	 #0x58
	OUT	 0xC
	LOOP	CT	
	BR	VIVT2
	BR	S21